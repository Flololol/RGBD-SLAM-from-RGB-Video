\chapter{Conclusion}
    Combining the insight we accumulated over the past weeks, we identified two main possibilities for the error in our pipeline, leading to slightly worse results after our pose optimization.
    First, we might have done an amazing job with the minimization of the energy, but the faulty refined depth maps are so far off from the truth, that no optimizer in the world could fit that.
    We would have to investigate more into the origin of the holes, why they occur and how we can make the depth maps more consistent.
    The second possiblity is that we did not employ pixel consistency checks like reprojection error and normal deviation to account for occlusion and other sources of error.
    We simply checked if the transformed pixel lands in the target image and realized too late that the optical flow masks computed during the \citetitle{luo2020consistent} step could yield better results for this problem.
    Also our minimization approach may be too unconstrained and has no gradient provided for the optimizer, making it a even more difficult challenge.
    A major part of the bundle fusion paper is their online nonlinear GPU solver written for this exact problem with an intelligent gradient estimation that we simply cannot compete with.
    The reality is probably a mixture of the beforementioned speculations.
    The refined depth maps are definitely quite far from the ground truth as shown in Section~\ref{seq:results} and the energy minimization is a complex problem requiring every optimization possible.
    There is one more thing we intended to try.
    In order to confirm the quality of our pose optimization algorithm, we could optimize our initial depth after replacing our depth with the ground truth.
    If properly implemented we should see a lower alignment error when fitting the optimized trajectory to the ground truth.

    \todo{\\our pose optimization can't improve the extrinsics when it is so heavily based on the depth that is so shit..}
    conclusion may be, that the optimization just requires all the things we skipped.. better solver, better jacobian, better outlier filtering, ..\\
    or that the depth is just a bit fucked and the optimization approach actually works with the ground truth depth
    \begin{itemize}
        \item option1: blame everything on shitty depth (arguing, that the optimizer did the best he could) [I VOTE FOR THIS OPTION]
        \item option2: possibly present magical scale fix [I DONT SEE HOW THIS OPTION COULD STILL BE RELEVANT]
        \item option3: depth is not at fault and our optimization is just sadly not working as we want it to [THIS IS PROBABLY KINDA TRUE]
    \end{itemize}
    we probably end up with a combination of option 1 and 3\\
    maybe we should point out, that we may have underestimated the effort required for this project? (or not.. idk)\\
    what we sadly did not have enough time for, was to attempt the extrinsics refinement with the true depth and normals that are based on the true depth. this would show us if the optimization in itself works or not. the current results point to the refinement making the extrinsics worse. but that could very well be because of the broken depth that is used in the refinement process!\\
    optimization could have been improved with masks from FlowNet\\
    learned a lot\\
    was kinda fun\\
    